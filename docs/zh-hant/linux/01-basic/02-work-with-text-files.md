# 在Linux中使用文本文件

<Validator lang="zh-hant" :platform-list="['Ubuntu 22.04']" date="2023-05-05" />

在Linux中使用文本文件是每個用戶都應該掌握的基本技能。文本文件通常用於以純文本格式存儲配置文件、腳本和各種其他類型的數據。在本教程中，我們將介紹如何在Linux中使用文本文件。

## 文本文件使用

文本文件通常用於在Linux中存儲配置信息、日誌、腳本和其他可以使用文本編輯器讀取和編輯的數據。文本文件可以使用任何兼容的文本編輯器打開和編輯。文本文件的常見文件擴展名爲`.txt`、`.conf`、`.cfg`、`.log`和`.sh`。此外，任何用C、C++、Java、Python、Perl、Ruby等編程語言編寫的程序源代碼也存儲在文本文件中。

對文本文件執行的最常見任務是編輯和閱讀。

文本文件可以使用任何文本編輯器進行編輯，但最流行的編輯器是nano和vim。這兩個編輯器都包含在大多數Linux發行版中。

> 如果您的系統上沒有安裝Nano或Vim，您可以使用Linux發行版的軟件包管理器進行安裝。例如，如果您使用的是Debian或Ubuntu，您可以使用以下命令安裝nano：`apt-get install nano`。（您可能需要使用`sudo`以root身份運行命令。）

## 使用 Nano 編輯

Nano 是初學者的首選，因爲它簡單易用。要使用 nano 編輯器創建新文件或編輯現有文件，請在終端中輸入以下命令：

```sh
nano 文件名.txt
```

將 `文件名` 替換爲您想要的文件名。打開文件後，您可以開始輸入。要在 nano 編輯器中保存文件，請按 `CTRL + O`，然後按 `Enter`。要退出 nano 編輯器，請按 `CTRL + X`。

其他有用的命令列在屏幕底部。例如，如果您想在文件中搜索特定字符串，請按 `CTRL + W` 並鍵入搜索字符串。要替換字符串，請按 `CTRL + \`。您還可以使用 `CTRL + G` 獲取幫助。

正如您所看到的，nano 編輯器非常簡單易用。對於剛開始使用 Linux 的初學者來說，它是一個很好的選擇。

## 使用 Vim 編輯

Vim 是一個強大的命令行文本編輯器，大多數 Linux 系統默認安裝。它是經驗豐富的 Linux 用戶的最愛，因爲它的強大和靈活性。在許多系統管理任務中，它是默認的編輯器，例如編輯配置 crontab 任務。要使用 Vim 創建新文件或編輯現有文件，請在終端中鍵入以下命令：

```sh
vim 文件名.txt
```

> 您也可以使用 `vi` 命令代替 `vim`，它們是相同的。

Vim 與其他文本編輯器不同之處在於它有兩種模式：命令模式和插入模式。在命令模式下，您可以使用各種命令執行操作，例如保存、退出和搜索。在插入模式下，您可以將文本鍵入文件中。許多人一開始會覺得這很困惑，例如當他們嘗試將文本鍵入文件時，什麼也不會發生，或者會發生意外的情況。這是因爲他們處於命令模式而不是插入模式。需要一些時間來適應，一旦適應了，就會變得很自然。

記住：要進入插入模式，請按 `i`，確保左下角顯示`-- INSERT --`。要退出插入模式，請按 `ESC`。

要在vim編輯器中編輯文件，請按`i`進入插入模式並輸入您的文本。完成後，按`ESC`退出插入模式。然後輸入`:wq`並按`Enter`。如果您想保存文件而不退出vim，請輸入`:w`並按`Enter`。如果您想退出而不保存，請輸入`:q!`並按`Enter`。

要在文件中搜索特定字符串，請按`ESC`進入命令模式並輸入`/string`。要替換字符串，請按`ESC`進入命令模式並輸入`:s/old/new/g`。

其他快速提示：

- 要將光標移動到行的開頭，請按`0`。
- 要將光標移動到行的末尾，請按`$`。
- 要將光標移動到文件的開頭，請按`gg`。
- 要將光標移動到文件的末尾，請按`G`。
- 要將光標移動到下一個單詞，請按`w`。
- 要將光標移動到上一個單詞，請按`b`。
- 要在四個方向上移動光標，請按`h`、`j`、`k`、`l`。
- 要將光標移動到第10行，請按`10G`。
- 要刪除一個字符，請按`x`。
- 要刪除一行，請按`dd`。
- 要撤消，請按`u`。
- 要複製一行，請按`yy`。
- 要粘貼一行，請按`p`。

> 注意：Vim中的命令區分大小寫。例如，`:wq`與`:WQ`不同。

有許多其他命令，可以將它們組合以執行更復雜的操作。但這些是最常見的命令。您可以在命令模式下鍵入`:help`以查找更多命令。

## 使用 Less 閱讀文本文件

作爲文本編輯器，Nano 和 Vim 用於創建和編輯文本文件非常好。但是如果你只想閱讀一個文本文件怎麼辦？例如，如果你想閱讀一個日誌文件或配置文件。當然，你可以使用文本編輯器來閱讀文本文件，但這不是非常高效的，特別是如果文件非常大。

> 注意：在文本編輯器中打開一個非常大的文件，可能需要很長時間才能加載，也可能會使用大量系統資源。請避免在生產服務器上使用文本編輯器打開大文件。

更好的閱讀文本文件的方法是使用 `less` 命令。`less` 命令是一個分頁器，允許你在終端中閱讀文本文件。要使用 `less` 命令閱讀文本文件，請在終端中輸入以下命令：

```sh
less filename.txt
```

`less` 命令的基本用法類似於 Vim。你可以使用箭頭鍵向上和向下滾動，也可以使用 `/` 搜索特定字符串。要退出 `less` 命令，請按 `q`。

由於 Less 是一個分頁器，它一次讀取一頁文件，而不是將整個文件加載到內存中，因此性能比文本編輯器要好得多。它也非常適用於閱讀大文件。

## 使用 cat 命令閱讀

另一種閱讀文本文件的方法是使用 `cat` 命令。`cat` 命令是一個實用程序，允許您在終端中讀取文本文件。要使用 `cat` 命令閱讀文本文件，請在終端中鍵入以下命令：

```sh
cat filename.txt
```

`cat` 命令和 `less` 命令之間的主要區別在於，`cat` 命令一次性讀取整個文件並將其打印到終端。如果您想閱讀小文件，則這很有用，但不建議用於大文件。

如果您想將一個命令的輸出作爲另一個命令的輸入進行管道傳輸，則也很有用。例如，如果您想在文件中搜索特定字符串，則可以使用 `cat` 命令讀取文件並將輸出管道傳輸到 `grep` 命令以搜索字符串。例如：

```sh
cat filename.txt | grep "string"
```

## 從頭到尾閱讀

`head` 命令是一個實用工具，它允許你讀取文本文件的前幾行。要使用 `head` 命令讀取文本文件的前幾行，請在終端中輸入以下命令：

```sh
head filename.txt
```

如果你想設置要讀取的行數，可以使用 `-n` 選項。例如，如果你想讀取文件的前 10 行，可以使用以下命令：

```sh
head -n 10 filename.txt
```

與 `head` 命令相反，`tail` 命令允許你讀取文本文件的最後幾行。要使用 `tail` 命令讀取文本文件的最後幾行，請在終端中輸入以下命令：

```sh
tail filename.txt
```

`tail` 命令也有一個 `-n` 選項，允許你設置要讀取的行數。例如，如果你想讀取文件的最後 10 行，可以使用以下命令：

```sh
tail -n 10 filename.txt
```

## 結論

總之，處理文本文件是每個 Linux 用戶都應該掌握的基本技能。Nano 和 Vim 編輯器使得在 Linux 中創建、編輯和保存文本文件變得容易。`less` 命令是一個分頁器，允許您在終端中閱讀文本文件。`cat` 命令是一個實用程序，允許您在終端中閱讀文本文件。`head` 和 `tail` 命令允許您讀取文本文件的前幾行和後幾行。通過本文，您已經學會了如何使用 nano 和 vim 編輯器創建和編輯文本文件。祝您編輯愉快！
