# Linuxのディスクスペース使用状況を表示する方法

## ディスクパーティションのスペース占有を表示する

Linuxでパーティションを使用するには、特定のディレクトリにマウントする必要があります。そのため、パーティションは、そのパーティションの内容が含まれるディレクトリに対応する必要があると理解できます。

パーティションのスペース占有を確認するには、 `df`コマンドを使用できます。

```sh
df -h
```

戻り値は次のようになります。

```
ファイルシステム 容量 使用可能 使用済み% マウントポイント
devtmpfs 3.9G 0 3.9G 0% /dev
tmpfs 3.9G 0 3.9G 0% /dev/shm
/dev/sda2 496G 2.6G 484G 1% /
/dev/sda1 969M 112M 792M 13% /boot
```

上記のように、主要なパーティションは `/dev/sda1` と `/dev/sda2` であり、 `/dev/sda2` は多くのスペースを持ち、データストレージに主に使用されるパーティションであり、マウントポイントは `/`、ルートディレクトリです。上記の戻り値から、各ディスクパーティションのスペース占有を確認できます。

## ディレクトリのスペース占有を確認する

ディレクトリのスペース占有を確認するには、 `du`コマンドを使用できます。デフォルトでは、 `du`コマンドは、指定されたディレクトリ内のすべてのレベルのディレクトリとファイルが占有するスペースをリストします。パラメータ `-max-depth` を使用して、指定されたレベルで占有するディレクトリとファイルのスペースのみをリストすることもできます。

```sh
du -h --max-depth=1
```

戻り値は次のようになります。

```
68K . /nginx
12K . /scripts
44M . /log
20K . /bakup
1.9M . /letsencrypt
20M . /storage
22M . /tmp
88M .
```

上記の戻り値から、各ディレクトリが占有する合計スペースを確認できます。

なお、 `du`コマンドは、指定されたディレクトリ内のすべてのファイルとディレクトリを反復処理する必要があるため、実行がやや遅くなる場合があります。ファイルとディレクトリが多い場合は、忍耐が必要で、 `-max-depth` パラメータの値を大きくすると、読みやすさが損なわれないようにすることができます。

```sh
du -h --max-depth=2
```

この方法で、一度により多くの情報を表示し、どのディレクトリが多くのスペースを占有しているかをより速く理解することができます。

## 要約

上記は、Linuxシステムでディスクスペース使用状況を確認する方法です。両方の組み合わせは、ディスクスペース使用状況を確認する日常的なタスクを完了するために使用できます。
